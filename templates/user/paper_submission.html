{% extends "base.html" %}

{% block title %}Abstract / Paper Submission - Conference 2024{% endblock %}

{% block content %}
<div class="submission-section">
    <h1>Abstract / Paper Submission</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST" enctype="multipart/form-data" class="submission-form">
        <!-- Personal Information -->
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" id="name" name="name" required>
        </div>

        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required>
        </div>

        <div class="form-group">
            <label for="country_code">Country Code</label>
            <select id="country_code" name="country_code" required>
                <option value="">Select Country Code</option>
                <!-- Add country codes dynamically via JavaScript -->
            </select>
        </div>

        <div class="form-group">
            <label for="mobile">Mobile Number</label>
            <input type="tel" id="mobile" name="mobile" required>
        </div>

        <!-- Paper Information -->
        <div class="form-group">
            <label for="paper_title">Abstract / Paper Title</label>
            <input type="text" id="paper_title" name="paper_title" required>
        </div>

        <div class="form-group">
            <label for="university">University/Institute</label>
            <input type="text" id="university" name="university" required>
        </div>

        <!-- Conference Details -->
        <div class="form-group">
            <label for="conference_name">Conference Name</label>
            <input type="text" id="conference_name" name="conference_name" value="Conference 2024" readonly>
        </div>

        <div class="form-group">
            <label for="conference_date">Date of Conference</label>
            <input type="text" id="conference_date" name="conference_date" value="1st - 1st January 1970" readonly>
        </div>

        <div class="form-group">
            <label for="conference_city">Conference City</label>
            <input type="text" id="conference_city" name="conference_city" required>
        </div>

        <div class="form-group">
            <label for="conference_country">Conference Country</label>
            <input type="text" id="conference_country" name="conference_country" required>
        </div>

        <!-- Presentation Details -->
        <div class="form-group">
            <label for="presentation_mode">Presentation Mode</label>
            <select id="presentation_mode" name="presentation_mode" required>
                <option value="">--Select Presentation Mode--</option>
                <option value="oral">Oral Presentation</option>
                <option value="poster">Poster Presentation</option>
                <option value="virtual">Virtual Presentation</option>
            </select>
        </div>

        <div class="form-group">
            <label for="journal">Journal Publication</label>
            <select id="journal" name="journal" required>
                <option value="">--Select--</option>
                <option value="yes">Yes</option>
                <option value="no">No</option>
            </select>
        </div>

        <!-- Additional Information -->
        <div class="form-group">
            <label for="comments">Comments</label>
            <textarea id="comments" name="comments" rows="4"></textarea>
        </div>

        <!-- File Upload -->
        <div class="form-group">
            <label for="paper_file">Upload Paper</label>
            <input type="file" id="paper_file" name="paper_file" accept=".pdf,.doc,.docx" required>
        </div>

        <!-- reCAPTCHA -->
        <div class="form-group">
            <div class="g-recaptcha" data-sitekey="{{ recaptcha_site_key }}"></div>
        </div>

        <button type="submit" class="btn-submit">Submit</button>
    </form>

    <div class="contact-info">
        <p>For any queries related to abstract submission, acceptance letter, registration fee, or presentation, please contact us at <a href="mailto:submissions@conf.org">submissions@conf.org</a> and +91 9949952552</p>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Country codes data
    const countryCodes = [
        {code: '+1', country: 'USA'},
        {code: '+44', country: 'UK'},
        {code: '+91', country: 'India'},
        // Add more country codes as needed
    ];

    // Populate country codes dropdown
    const countrySelect = document.getElementById('country_code');
    countryCodes.forEach(country => {
        const option = document.createElement('option');
        option.value = country.code;
        option.textContent = `${country.country} (${country.code})`;
        countrySelect.appendChild(option);
    });
});
</script>
{% endblock %} 